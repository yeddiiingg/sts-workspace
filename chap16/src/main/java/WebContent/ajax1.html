<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<script  src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript">
function trans() {
    $.ajax({
        type:"post",
        dataType: "xml",  //data 전달을 xml로 받겠다.
        async: false,
        url: "http://localhost:8090/chap16/ajax1",

        success:function(data,textStatus){
        	$(data).find("coalra").each(function(){
                let n = $(this).find("name").text();  // this 전송된 xml파일에서 항목 찾음.
                let inf1 = $(this).find("info1").text();
                let inf2 = $(this).find("info2").text();
                let image = $(this).find("img").text();
                $("#alra").append(
                		"<h3>"+ n + "</h3>"
                		+"<h4>"+inf1+"</h4>"
                		+"<h4>"+inf2+"</h4>"
                		+"<img src='"+image+"'/>"
                		);
        	});
        },
        // data : success, error > 응답 처리
        // textStatus : data > 성공 여부,완료
        error:function(data,textStatus){
            alert("에러 발생");
        },
        complete:function(data,textStatus){
            alert("작업 완료");
        }
    });
}
</script>


</head>
<body>
    <input type="button" value="정보확인" onclick="trans()"/>
    <div id="alra"></div>
</body>
</html>